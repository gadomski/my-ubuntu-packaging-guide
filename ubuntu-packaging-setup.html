<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Ubuntu packaging setup &mdash; Creating an Ubuntu Package from a Git Project 0.1 documentation</title>
    
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '0.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="Creating an Ubuntu Package from a Git Project 0.1 documentation" href="index.html" />
    <link rel="prev" title="Assumptions" href="assumptions.html" />
   
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9">

  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="assumptions.html" title="Assumptions"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">Creating an Ubuntu Package from a Git Project 0.1 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="ubuntu-packaging-setup">
<h1>Ubuntu packaging setup<a class="headerlink" href="#ubuntu-packaging-setup" title="Permalink to this headline">¶</a></h1>
<p>Ubuntu manages packages through <a class="reference external" href="https://launchpad.net/">Launchpad</a>, which handles storing, building, and distributing software packages.
In order to create and distribute packages of your own, you need a Launchpad account and a system that can upload packages to it.</p>
<p>These instructions are derived from those at:</p>
<ul class="simple">
<li><a class="reference external" href="http://packaging.ubuntu.com/html/getting-set-up.html">http://packaging.ubuntu.com/html/getting-set-up.html</a></li>
</ul>
<div class="section" id="download-necessary-packages">
<h2>Download necessary packages<a class="headerlink" href="#download-necessary-packages" title="Permalink to this headline">¶</a></h2>
<p>First things first, download the packages we need to do this business:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>sudo apt-get update
<span class="nv">$ </span>sudo apt-get install packaging-dev git-buildpackage
</pre></div>
</div>
</div>
<div class="section" id="create-a-launchpad-account">
<h2>Create a Launchpad account<a class="headerlink" href="#create-a-launchpad-account" title="Permalink to this headline">¶</a></h2>
<p>Use <a class="reference external" href="https://login.launchpad.net/+login">https://login.launchpad.net/+login</a> to create an account.</p>
</div>
<div class="section" id="create-and-upload-your-gpg-key">
<h2>Create and upload your gpg key<a class="headerlink" href="#create-and-upload-your-gpg-key" title="Permalink to this headline">¶</a></h2>
<p>Launchpad requires that all packages are signed with a <a class="reference external" href="https://www.gnupg.org/">gpg</a> key.
First, create your key:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>gpg --gen-key
</pre></div>
</div>
<p>You&#8217;ll have to go through some setup steps, of which the defaults are all fine.
Definitely create a passphrase, though.
Then gpg will need some entropy to create a random key, which could take a while.
It might suggest you move your mouse or perform other OS actions to give it some random bits to play with &#8211; I suggest you follow its advice.
Eventually, gpg will spit out some info about your key (taken directly from the Ubuntu packaging guide):</p>
<div class="highlight-bash"><div class="highlight"><pre>pub   4096R/43CDE61D 2010-12-06
Key <span class="nv">fingerprint</span> <span class="o">=</span> 5C28 <span class="m">0144</span> FB08 91C0 2CF3  37AC 6F0B F90F 43CD E61D
uid                  Daniel Holbach &lt;dh@mailempfang.de&gt;
sub   4096R/51FBE68C 2010-12-06
</pre></div>
</div>
<p>The <code class="docutils literal"><span class="pre">43CDE61D</span></code> is your key id, and <code class="docutils literal"><span class="pre">5C28</span> <span class="pre">0144</span> <span class="pre">FB08</span> <span class="pre">91C0</span> <span class="pre">2CF3</span>&nbsp; <span class="pre">37AC</span> <span class="pre">6F0B</span> <span class="pre">F90F</span> <span class="pre">43CD</span> <span class="pre">E61D</span></code>, which you&#8217;ll need later.
Upload that to the Ubuntu keyserver:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>gpg --send-keys --keyserver keyserver.ubuntu.com &lt;KEY ID&gt;
</pre></div>
</div>
<p>Launchpad will take a bit (maybe about 10 minutes) to accept and process the key, so go make a cup of tea or do some other part of this setup guide for a bit before you roll on.</p>
<p>After a bit, you can go to <a class="reference external" href="https://launchpad.net/~/+editpgpkeys">https://launchpad.net/~/+editpgpkeys</a> and type in your key fingerprint (from above, that long string with a bunch of four-character clumps).
That will set off a GUI-rific chain of emails and such which will culminate in you decrypting a piece of an email message, the contents of which contain a authorization link.
To decrypt that portion of an email message, I copy-pasted the GPG portion of the email to a file on my system, then ran:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>gpg --decrypt &lt;my message file&gt;
</pre></div>
</div>
<p>This should spit out the contents of the message, which you can then use to navigate back to the Launchpad confirmation link and join up your gpg key with your Launchpad account.
Whew.</p>
</div>
<div class="section" id="create-and-upload-your-ssh-key">
<h2>Create and upload your ssh key<a class="headerlink" href="#create-and-upload-your-ssh-key" title="Permalink to this headline">¶</a></h2>
<p>We will use ssh to upload files to Launchpad.
You should probably already have an ssh key on your machine, but if you don&#8217;t, run:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>ssh-keygen
</pre></div>
</div>
<p>Copy your public key.
I usually just <code class="docutils literal"><span class="pre">cat</span></code> it out to my terminal and copy it from there:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>cat ~/.ssh/id_rsa.pub
</pre></div>
</div>
<p>Go to <a class="reference external" href="https://launchpad.net/~/+editsshkeys">https://launchpad.net/~/+editsshkeys</a> and paste in that public key.</p>
</div>
<div class="section" id="configure-your-shell">
<h2>Configure your shell<a class="headerlink" href="#configure-your-shell" title="Permalink to this headline">¶</a></h2>
<p>The Debian packaging scripts occasionally need to know who you are.
If you use bash, go ahead and set up your ~/.bashrc with the following:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nb">export </span><span class="nv">DEBFULLNAME</span><span class="o">=</span><span class="s2">&quot;Pete Gadomski&quot;</span>
<span class="nb">export </span><span class="nv">DEBEMAIL</span><span class="o">=</span>pete.gadomski@gmail.com
</pre></div>
</div>
<p>Other shells, adapt as necessary.</p>
</div>
<div class="section" id="set-up-pbuilder">
<h2>Set up pbuilder<a class="headerlink" href="#set-up-pbuilder" title="Permalink to this headline">¶</a></h2>
<p><code class="docutils literal"><span class="pre">pbuilder</span></code> is a tool that lets you build out packages in a pristine environment, unpolluted by all that crap that you&#8217;ve installed on your OS for your day-to-day.
It also supports cross-version builds (e.g. building for precise when you&#8217;re on trusty).
To set it up, you need to download all the necessary packages and somesuch:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>pbuilder-dist &lt;release&gt; create
</pre></div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Ubuntu packaging setup</a><ul>
<li><a class="reference internal" href="#download-necessary-packages">Download necessary packages</a></li>
<li><a class="reference internal" href="#create-a-launchpad-account">Create a Launchpad account</a></li>
<li><a class="reference internal" href="#create-and-upload-your-gpg-key">Create and upload your gpg key</a></li>
<li><a class="reference internal" href="#create-and-upload-your-ssh-key">Create and upload your ssh key</a></li>
<li><a class="reference internal" href="#configure-your-shell">Configure your shell</a></li>
<li><a class="reference internal" href="#set-up-pbuilder">Set up pbuilder</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="assumptions.html"
                        title="previous chapter">Assumptions</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/ubuntu-packaging-setup.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2015, Pete Gadomski.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.3.1</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.4</a>
      
      |
      <a href="_sources/ubuntu-packaging-setup.txt"
          rel="nofollow">Page source</a></li>
    </div>

    

    
  </body>
</html>